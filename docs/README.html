
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Jarvis &#8212; Jarvis  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to Jarvis’s documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Jarvis’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Jarvis  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Jarvis</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p><a class="reference external" href="https://www.python.org/"><img alt="ForTheBadge made-with-python" src="http://ForTheBadge.com/images/badges/made-with-python.svg" /></a>
<a class="reference external" href="https://github.com/thevickypedia/Jarvis"><img alt="ForTheBadge built-with-swag" src="http://ForTheBadge.com/images/badges/built-with-swag.svg" /></a></p>
<p><img alt="Python" src="https://img.shields.io/badge/python-3.8%20%7C%203.9%20%7C%203.10%20%7C%203.11-blue" /></p>
<p><strong>Platform Supported</strong></p>
<p><img alt="Generic badge" src="https://img.shields.io/badge/Platform-Mac-1f425f.svg" />
<img alt="Generic badge" src="https://img.shields.io/badge/Platform-Windows-1f425f.svg" /></p>
<p><strong>Language Stats</strong></p>
<p><img alt="Language count" src="https://img.shields.io/github/languages/count/thevickypedia/Jarvis" />
<img alt="Code coverage" src="https://img.shields.io/github/languages/top/thevickypedia/Jarvis" /></p>
<p><strong>Repo Stats</strong></p>
<p><a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/thevickypedia/Jarvis" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub Repo forks" src="https://img.shields.io/github/forks/thevickypedia/Jarvis" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub Repo watchers" src="https://img.shields.io/github/watchers/thevickypedia/Jarvis" /></a></p>
<p><a class="reference external" href="https://github.com/thevickypedia/Jarvis/blob/master/LICENSE"><img alt="GitHub" src="https://img.shields.io/github/license/thevickypedia/Jarvis" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub repo size" src="https://img.shields.io/github/repo-size/thevickypedia/Jarvis" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub code size" src="https://img.shields.io/github/languages/code-size/thevickypedia/Jarvis" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="LOC" src="https://img.shields.io/tokei/lines/github/thevickypedia/Jarvis" /></a></p>
<p><a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub Repo issues" src="https://img.shields.io/github/issues-closed-raw/thevickypedia/Jarvis" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub Repo issues" src="https://img.shields.io/github/issues-raw/thevickypedia/Jarvis" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub Repo pr" src="https://img.shields.io/github/issues-pr-closed-raw/thevickypedia/Jarvis" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub Repo pr" src="https://img.shields.io/github/issues-pr-raw/thevickypedia/Jarvis" /></a></p>
<p><strong>Code Stats</strong></p>
<p><img alt="Modules" src="https://img.shields.io/github/search/thevickypedia/Jarvis/module" />
<img alt="Python" src="https://img.shields.io/github/search/thevickypedia/Jarvis/.py" />
<img alt="Threads" src="https://img.shields.io/github/search/thevickypedia/Jarvis/thread" />
<img alt="Listener" src="https://img.shields.io/github/search/thevickypedia/Jarvis/listener" />
<img alt="Speaker" src="https://img.shields.io/github/search/thevickypedia/Jarvis/speaker" />
<img alt="Bash" src="https://img.shields.io/github/search/thevickypedia/Jarvis/.sh" />
<img alt="AppleScript" src="https://img.shields.io/github/search/thevickypedia/Jarvis/.scpt" />
<img alt="Make" src="https://img.shields.io/github/search/thevickypedia/Jarvis/Makefile" /></p>
<p><strong>Deployments</strong></p>
<p><a class="reference external" href="https://github.com/thevickypedia/Jarvis/actions/workflows/pages/pages-build-deployment"><img alt="pages-build-deployment" src="https://github.com/thevickypedia/Jarvis/actions/workflows/pages/pages-build-deployment/badge.svg" /></a>
<a class="reference external" href="https://github.com/thevickypedia/Jarvis/actions/workflows/python-publish.yml"><img alt="pypi" src="https://github.com/thevickypedia/Jarvis/actions/workflows/python-publish.yml/badge.svg" /></a></p>
<p><a class="reference external" href="https://pypi.org/project/jarvis-ironman/#files"><img alt="Pypi-format" src="https://img.shields.io/pypi/format/jarvis-ironman" /></a>
<a class="reference external" href="https://pypi.org/project/jarvis-ironman"><img alt="Pypi-status" src="https://img.shields.io/pypi/status/jarvis-ironman" /></a>
<a class="reference external" href="https://libraries.io/pypi/jarvis-ironman"><img alt="sourcerank" src="https://img.shields.io/librariesio/sourcerank/pypi/jarvis-ironman" /></a></p>
<p><strong>Activity</strong></p>
<p><a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub Repo created" src="https://img.shields.io/date/1599432310" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub commit activity" src="https://img.shields.io/github/commit-activity/y/thevickypedia/Jarvis" /></a>
<a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="GitHub last commit" src="https://img.shields.io/github/last-commit/thevickypedia/Jarvis" /></a></p>
<p><strong>Development and Maintenance</strong></p>
<p><a class="reference external" href="https://github.com/thevickypedia/Jarvis"><img alt="Active Development" src="https://img.shields.io/badge/Development%20Level-Actively%20Developed-success.svg" /></a>
<a class="reference external" href="https://github.com/thevickypedia/Jarvis"><img alt="Actively Maintained" src="https://img.shields.io/badge/Maintenance%20Level-Actively%20Maintained-success.svg" /></a></p>
<p><a class="reference external" href="https://api.github.com/repos/thevickypedia/Jarvis"><img alt="Maintained" src="https://img.shields.io/maintenance/yes/2022" /></a>
<a class="reference external" href="https://vigneshrao.com/"><img alt="Maintainer" src="https://img.shields.io/badge/Maintained%20By-Vignesh%20Sivanandha%20Rao-blue.svg" /></a></p>
<p><strong>Reach Out</strong></p>
<p><a class="reference external" href="https://vigneshrao.com/contact"><img alt="Ask Me | Anything " src="https://img.shields.io/badge/Ask%20me-Anything-1abc9c.svg" /></a></p>
<section id="jarvis">
<h1>Jarvis<a class="headerlink" href="#jarvis" title="Permalink to this heading">¶</a></h1>
<p>IronMan’s Jarvis with python</p>
<section id="prep">
<h2>Prep<a class="headerlink" href="#prep" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>MacOS</strong> <br> <em>Tested on <strong>macOS High Sierra, Mojave, Catalina, Big Sur, and Monterey</strong></em></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">System</span> <span class="pre">Preferences</span></code> → <code class="docutils literal notranslate"><span class="pre">Security</span> <span class="pre">&amp;</span> <span class="pre">Privacy</span></code> → <code class="docutils literal notranslate"><span class="pre">Privacy</span></code></p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">+</span></code> sign and add the preferred <code class="docutils literal notranslate"><span class="pre">IDE</span></code> and <code class="docutils literal notranslate"><span class="pre">Terminal</span></code> in the following sections in left pane.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Microphone</span></code> - <strong>Required</strong> to listen and respond.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Accessibility</span></code> - <strong>Required</strong> to use key combinations for brightness and volume controls.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Camera</span></code> - <strong>[Optional]</strong> Required only during face recognition/detection.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Automation</span></code> - <strong>Required</strong> to control <code class="docutils literal notranslate"><span class="pre">System</span> <span class="pre">Events</span></code> and other apps like Outlook and Calendar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Files</span> <span class="pre">and</span> <span class="pre">Folders</span></code> <strong>[OR]</strong> <code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">Disk</span> <span class="pre">Access</span></code> - <strong>Required</strong> for all <code class="docutils literal notranslate"><span class="pre">FileIO</span></code> operations.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Windows</strong> <br> <em>Tested on <strong>Windows 10</strong></em></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Settings</span></code> → <code class="docutils literal notranslate"><span class="pre">Privacy</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Microphone</span></code> - <strong>Required</strong> to listen and respond.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Camera</span></code> - <strong>[Optional]</strong> Required only during face recognition/detection.</p></li>
<li><p>Unlike macOS, <code class="docutils literal notranslate"><span class="pre">Windows</span></code> pops a confirmation window to <strong>Allow</strong> or <strong>Deny</strong> access to files and folders.</p></li>
</ul>
</li>
<li><p>Install <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/">Anaconda</a> or <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html#windows-installers">Miniconda</a>, and <a class="reference external" href="https://visualstudio.microsoft.com/visual-cpp-build-tools/">VisualStudio C++ BuildTools</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Clone this <a class="reference external" href="https://github.com/thevickypedia/Jarvis.git">repository</a> or download it from <a class="reference external" href="https://pypi.org/project/jarvis-ironman/">pypi</a></p></li>
<li><p>Run the following commands in a command-line/terminal:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">venv</span> <span class="pre">venv</span></code> - Creates a virtual env named <code class="docutils literal notranslate"><span class="pre">venv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">venv/bin/activate</span></code> - Activates the virtual env <code class="docutils literal notranslate"><span class="pre">venv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">python</span></code> - Validate which python is being used. Should be the one within the virtual env <code class="docutils literal notranslate"><span class="pre">venv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">+x</span> <span class="pre">lib/install.sh</span></code> - Makes <a class="reference external" href="https://github.com/thevickypedia/Jarvis/blob/master/lib/install.sh">installation file</a> as executable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bash</span> <span class="pre">lib/installs.sh</span></code> - Installs the required modules based on the operating system.</p></li>
<li><p><a class="reference external" href="https://git.io/JBnPz"><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">jarvis.py</span></code></a> - BOOM, you’re all set, go ahead and interact with Jarvis.</p>
<ol class="simple">
<li><p><a class="reference external" href="https://www.jetbrains.com/pycharm/download">PyCharm</a> or similar IDE preferred to initiate Jarvis (Step <code class="docutils literal notranslate"><span class="pre">vi.</span></code>) to keep <code class="docutils literal notranslate"><span class="pre">stdout</span></code> clear.</p></li>
</ol>
</li>
</ol>
</li>
</ul>
</section>
<section id="env-variables">
<h2>ENV Variables<a class="headerlink" href="#env-variables" title="Permalink to this heading">¶</a></h2>
<p>Environment variables are loaded from a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file and validated using <code class="docutils literal notranslate"><span class="pre">pydantic</span></code></p>
<details>
<summary><strong>More on <a href="https://github.com/thevickypedia/Jarvis/wiki#environment-variables">Environment variables</a></strong></summary><ul class="simple">
<li><p><strong>TITLE</strong> - Title which Jarvis should address the user by. Defaults to <code class="docutils literal notranslate"><span class="pre">sir</span></code></p></li>
<li><p><strong>NAME</strong> - Name which Jarvis should address the user by. Defaults to <code class="docutils literal notranslate"><span class="pre">Vignesh</span></code></p></li>
<li><p><strong>SENSITIVITY</strong> - Hot word detection sensitivity. Range: 0-1</p></li>
<li><p><strong>WAKE_WORDS</strong> - List of wake words to initiate Jarvis’ listener. Defaults to <code class="docutils literal notranslate"><span class="pre">['jarvis']</span></code> (Defaults to <code class="docutils literal notranslate"><span class="pre">['alexa']</span></code> in legacy macOS)</p></li>
<li><p><strong>LIMITED</strong> - Runs only the main version of <code class="docutils literal notranslate"><span class="pre">Jarvis</span></code> skipping all other background processes. Enforced based on the
number of CPU cores. It can also be enabled with env-var.</p></li>
<li><p><strong>CAMERA_INDEX</strong> - Camera index that has to be used. Run <a class="reference external" href="https://github.com/thevickypedia/Jarvis/tree/master/modules/camera/camera.py">camera.py</a> to get the index value of each camera.</p></li>
</ul>
<p>:warning: Jarvis has limitations on the wake words as it relies on ML libraries for wake word detection.</p>
<p><strong><a class="reference external" href="https://github.com/thevickypedia/Jarvis/blob/master/executors/offline.py">Offline communicator</a></strong></p>
<ul class="simple">
<li><p><strong>OFFLINE_PORT</strong> - Port number to initiate offline communicator. Defaults to <code class="docutils literal notranslate"><span class="pre">4483</span></code></p></li>
<li><p><strong>OFFLINE_PASS</strong> - Secure phrase to authenticate offline requests. Defaults to <code class="docutils literal notranslate"><span class="pre">OfflineComm</span></code></p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p><strong>GIT_USER</strong> - GitHub Username</p></li>
<li><p><strong>GIT_PASS</strong> - GitHub Token</p></li>
<li><p><strong>WEATHER_API</strong> - API Key from <a class="reference external" href="https://openweathermap.org/">openweathermap</a></p></li>
<li><p><strong>NEWS_API</strong> - API Key from <a class="reference external" href="https://newsapi.org/docs/client-libraries/python">newsapi</a></p></li>
<li><p><strong>MAPS_API</strong> - API Key for maps from <a class="reference external" href="https://developers.google.com/maps/documentation/maps-static/get-api-key">Google</a></p></li>
<li><p><strong>GMAIL_USER</strong> - Gmail account username to send and read emails.</p></li>
<li><p><strong>GMAIL_PASS</strong> - Gmail account password to send and read emails.</p></li>
<li><p><strong>ALT_GMAIL_USER</strong> - Alternate gmail account username to send an SMS. (<code class="docutils literal notranslate"><span class="pre">GMAIL_USER</span></code> can be re-used)</p></li>
<li><p><strong>ALT_GMAIL_PASS</strong> - Alternate gmail account password to send an SMS. (<code class="docutils literal notranslate"><span class="pre">GMAIL_PASS</span></code> can be re-used)</p></li>
<li><p><strong>RECIPIENT</strong> - Email address to which the emails from jarvis have to be received.</p></li>
<li><p><strong>ROBINHOOD_USER</strong> - Robinhood account username.</p></li>
<li><p><strong>ROBINHOOD_PASS</strong> - Robinhood account password.</p></li>
<li><p><strong>ROBINHOOD_QR</strong> - Robinhood login <a class="reference external" href="https://robinhood.com/account/settings">QR code</a></p></li>
<li><p><strong>BIRTHDAY</strong> - Birth date in the format DD-MM - Example: <code class="docutils literal notranslate"><span class="pre">24-April</span></code></p></li>
<li><p><strong>ICLOUD_USER</strong> - iCloud account username/email.</p></li>
<li><p><strong>ICLOUD_PASS</strong> - iCloud account password.</p></li>
<li><p><strong>ICLOUD_RECOVERY</strong> - Recovery phone number to activate lost mode on a target device - Example: <code class="docutils literal notranslate"><span class="pre">+11234567890</span></code></p></li>
<li><p><strong>PHONE_NUMBER</strong> - To send SMS from Jarvis - Example: <code class="docutils literal notranslate"><span class="pre">+11234567890</span></code></p></li>
<li><p><strong>ROOT_PASSWORD</strong> - System password for your <code class="docutils literal notranslate"><span class="pre">mac</span></code> to get the system vitals.</p></li>
<li><p><strong>WOLFRAM_API_KEY</strong> - API Key from wolfram alpha.</p></li>
<li><p><strong>ICS_URL</strong> - Shared calendar URL to get meetings information from. Should end with <code class="docutils literal notranslate"><span class="pre">.ics</span></code></p></li>
<li><p><strong>EVENT_APP</strong> - To read events from <code class="docutils literal notranslate"><span class="pre">outlook</span></code> or <code class="docutils literal notranslate"><span class="pre">calendar</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">calendar</span></code> <br>
:bulb:   When <code class="docutils literal notranslate"><span class="pre">calender</span></code> is used, the name of the <em>calendar</em> within the <code class="docutils literal notranslate"><span class="pre">Calendar.app</span></code> should be <strong>Jarvis</strong> <br></p></li>
<li><p><strong>SPEECH_SYNTHESIS_TIMEOUT</strong> - Timeout to connect to the docker container that processes text to speech requests. <br></p>
<ul>
<li><p>To enable independent <code class="docutils literal notranslate"><span class="pre">speech-synthesis</span></code> run:</p></li>
</ul>
</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>docker run <span class="se">\</span>
    -it <span class="se">\</span>
    -p <span class="m">5002</span>:5002 <span class="se">\</span>
    -e <span class="s2">&quot;HOME=</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span>
    -v <span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">:</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span>
    -v /usr/share/ca-certificates:/usr/share/ca-certificates <span class="se">\</span>
    -v /etc/ssl/certs:/etc/ssl/certs <span class="se">\</span>
    -w <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span>
    --user <span class="s2">&quot;</span><span class="k">$(</span>id -u<span class="k">)</span><span class="s2">:</span><span class="k">$(</span>id -g<span class="k">)</span><span class="s2">&quot;</span> <span class="se">\</span>
    rhasspy/larynx
</pre></div>
</div>
<p>:bulb:   Text to speech is optionally run on a docker container for better voices but the response might be slower. If you don’t have docker installed or simply don’t want to use it, set the <code class="docutils literal notranslate"><span class="pre">SPEECH_SYNTHESIS_TIMEOUT</span></code> env var to 0. This is also done automatically if failed to launch a docker container upon startup.</p>
<p><strong>Background scans [Defaults to 1 hour]</strong></p>
<ul class="simple">
<li><p><strong>SYNC_MEETINGS</strong> - Interval in seconds to generate <code class="docutils literal notranslate"><span class="pre">meetings</span></code> information using <code class="docutils literal notranslate"><span class="pre">ics</span></code> URL.</p></li>
<li><p><strong>SYNC_EVENTS</strong> - Interval in seconds to generate <code class="docutils literal notranslate"><span class="pre">events</span></code> information using <code class="docutils literal notranslate"><span class="pre">calendar</span></code> or <code class="docutils literal notranslate"><span class="pre">outlook</span></code> application.</p></li>
</ul>
<p><strong>API Features</strong></p>
<ul class="simple">
<li><p><strong>ROBINHOOD_ENDPOINT_AUTH</strong> - Authentication token to access the robinhood portfolio which is generated every hour.</p></li>
<li><p><strong>SURVEILLANCE_ENDPOINT_AUTH</strong> - Token to access webcam live feed via Jarvis API.</p></li>
<li><p><strong>SURVEILLANCE_SESSION_TIMEOUT</strong> - Session time out for <code class="docutils literal notranslate"><span class="pre">/surveillance</span></code>. Defaults to 300 seconds.</p></li>
<li><p><strong>STOCK_MONITOR_ENDPOINT_AUTH</strong> - Token to add a stock price monitor. (Will soon be made <code class="docutils literal notranslate"><span class="pre">open-source</span></code>)</p></li>
<li><p><strong>TASKS</strong> - Runs certain tasks at certain intervals.</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">[</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">{</span><span class="s">&quot;seconds&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">10_800</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;task&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;remind</span><span class="nv"> </span><span class="s">me</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">drink</span><span class="nv"> </span><span class="s">water&quot;</span><span class="p p-Indicator">},</span><span class="w">  </span><span class="c1"># Runs every 3 hours</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">{</span><span class="s">&quot;seconds&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">21_600</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;task&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;turn</span><span class="nv"> </span><span class="s">off</span><span class="nv"> </span><span class="s">all</span><span class="nv"> </span><span class="s">lights&quot;</span><span class="p p-Indicator">}</span><span class="w">  </span><span class="c1"># Runs every 6 hours</span><span class="w"></span>
<span class="p p-Indicator">]</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>CRONTAB</strong> - Runs scheduled tasks using cron expressions without using actual crontab.</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">[</span><span class="w"></span>
<span class="w">  </span><span class="s">&quot;0</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">1-5/2</span><span class="nv"> </span><span class="s">find</span><span class="nv"> </span><span class="s">/var/log</span><span class="nv"> </span><span class="s">-delete&quot;</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">  </span><span class="s">&quot;0</span><span class="nv"> </span><span class="s">5</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">1</span><span class="nv"> </span><span class="s">tar</span><span class="nv"> </span><span class="s">-zcf</span><span class="nv"> </span><span class="s">/var/backups/home.tgz</span><span class="nv"> </span><span class="s">/home/&quot;</span><span class="w"></span>
<span class="p p-Indicator">]</span><span class="w"></span>
</pre></div>
</div>
<p><strong><a class="reference external" href="https://github.com/thevickypedia/vpn-server">VPNServer</a> integration</strong></p>
<ul class="simple">
<li><p><strong>VPN_USERNAME</strong> - Username to create vpn-server. Defaults to profile username or <code class="docutils literal notranslate"><span class="pre">openvpn</span></code></p></li>
<li><p><strong>VPN_PASSWORD</strong> - Password to authenticate vpn-server. Defaults to profile password or <code class="docutils literal notranslate"><span class="pre">aws_vpn_2021</span></code></p></li>
</ul>
<p><strong><a class="reference external" href="https://github.com/thevickypedia/Jarvis/blob/master/modules/tv/tv_controls.py">TV</a> controls</strong> - Applies only for <a class="reference external" href="https://en.wikipedia.org/wiki/WebOS">LGWebOS</a></p>
<ul class="simple">
<li><p><strong>TV_CLIENT_KEY</strong> - TV’s Client key. Auto-generated when used for the first time.</p></li>
<li><p><strong>TV_MAC</strong> - TV’s mac address. Can be single [str] or multiple [list] mac addresses (to include both wired and wireless macs).</p></li>
</ul>
<p><strong><a class="reference external" href="https://github.com/thevickypedia/Jarvis/blob/master/modules/car">Car Controls</a></strong> - Applies only for JLR vehicles using <code class="docutils literal notranslate"><span class="pre">InControl</span> <span class="pre">API</span></code>.</p>
<ul class="simple">
<li><p><strong>CAR_EMAIL</strong> - Email address to log in to InControl API.</p></li>
<li><p><strong>CAR_PASS</strong> - Password to authenticate InControl API.</p></li>
<li><p><strong>CAR_PIN</strong> - InControl PIN.</p></li>
</ul>
<p><strong><a class="reference external" href="https://github.com/thevickypedia/Jarvis/blob/master/executors/telegram.py">Telegram Bot</a> integration</strong></p>
<ul class="simple">
<li><p><strong>BOT_TOKEN</strong> - Telegram BOT token.</p></li>
<li><p><strong>BOT_CHAT_IDS</strong> - UserID/ChatID for a particular user.</p></li>
<li><p><strong>BOT_USERS</strong> - Usernames that should have access to Jarvis.</p></li>
</ul>
</details></section>
<section id="smart-devices">
<h2>Smart Devices<a class="headerlink" href="#smart-devices" title="Permalink to this heading">¶</a></h2>
<p>A source file <code class="docutils literal notranslate"><span class="pre">smart_devices.yaml</span></code> is used to store smart devices’ hostnames. <code class="docutils literal notranslate"><span class="pre">Jarvis</span></code> supports <a class="reference external" href="https://www.amazon.com/gp/product/B08C7GY43L"><code class="docutils literal notranslate"><span class="pre">MagicHome</span></code> lights</a> and <code class="docutils literal notranslate"><span class="pre">LGWebOS</span></code> TVs.</p>
<details>
<summary><strong>Setup Instructions</strong></summary><blockquote>
<div><p>Note: Jarvis currently supports only one hostname for TV but multiple for lights.</p>
</div></blockquote>
<ul class="simple">
<li><p>The name used in the keys will be the identifier of those light bulbs.</p></li>
<li><p>The source file (<code class="docutils literal notranslate"><span class="pre">smart_devices.yaml</span></code>) should be as following:</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bedroom</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;HOSTNAMES&#39;</span><span class="w"></span>
<span class="nt">hallway</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;HOSTNAMES&#39;</span><span class="w"></span>
<span class="nt">hallway basement</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;HOSTNAMES&#39;</span><span class="w"></span>
<span class="nt">kitchen</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;HOSTNAMES&#39;</span><span class="w"></span>
<span class="nt">living room</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;HOSTNAMES&#39;</span><span class="w"></span>
<span class="nt">party mode</span><span class="p">:</span><span class="w">  </span><span class="c1"># Light hostnames which needed to be engaged for party mode</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;HOSTNAMES&#39;</span><span class="w"></span>
<span class="nt">tv</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;LGWEBOSTV&#39;</span><span class="w"></span>
</pre></div>
</div>
</details></section>
<section id="automation-setup-optional">
<h2>Automation Setup [Optional]<a class="headerlink" href="#automation-setup-optional" title="Permalink to this heading">¶</a></h2>
<p>Executes <a class="reference external" href="https://github.com/thevickypedia/Jarvis/blob/master/modules/offline/compatibles.py">offline compatible</a> tasks
at pre-defined times without any user interaction. Uses an <code class="docutils literal notranslate"><span class="pre">automation.yaml</span></code> file as source which should be stored
within the directory <code class="docutils literal notranslate"><span class="pre">fileio</span></code></p>
<details>
<summary><strong>Setup Instructions</strong></summary><p>The YAML file should be a dictionary within a dictionary that looks like the below.</p>
<p><strong>OPTIONAL:</strong> The key, <code class="docutils literal notranslate"><span class="pre">day</span></code> can be a <code class="docutils literal notranslate"><span class="pre">list</span></code> of days, or a <code class="docutils literal notranslate"><span class="pre">str</span></code> of a specific day or simply a <code class="docutils literal notranslate"><span class="pre">str</span></code> saying <code class="docutils literal notranslate"><span class="pre">weekday</span></code> or
<code class="docutils literal notranslate"><span class="pre">weekend</span></code> when the particular automation should be executed.</p>
<blockquote>
<div><p>Not having the key <code class="docutils literal notranslate"><span class="pre">day</span></code> will run the automation daily.
Date format should match exactly as described below.</p>
</div></blockquote>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">06:00 AM</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">weekday</span><span class="w">  </span><span class="c1"># Runs only between Monday and Friday</span><span class="w"></span>
<span class="w">  </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">set my bedroom lights to 50%</span><span class="w"></span>
<span class="l l-Scalar l-Scalar-Plain">06:30 AM</span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">day</span><span class="p">:</span><span class="w">  </span><span class="c1"># Runs only on Monday, Wednesday and Friday</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Monday</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">wednesday</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FRIDAY</span><span class="w"></span>
<span class="w">  </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">set my bedroom lights to 100%</span><span class="w"></span>
<span class="l l-Scalar l-Scalar-Plain">08:00 AM</span><span class="p p-Indicator">:</span><span class="w">  </span><span class="c1"># Runs only on Saturday and Sunday</span><span class="w"></span>
<span class="w">  </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">weekend</span><span class="w"></span>
<span class="w">  </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">set my bedroom lights to 100%</span><span class="w"></span>
<span class="l l-Scalar l-Scalar-Plain">09:00 PM</span><span class="p p-Indicator">:</span><span class="w">  </span><span class="c1"># Runs daily</span><span class="w"></span>
<span class="w">  </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">set my bedroom lights to 5%</span><span class="w"></span>
</pre></div>
</div>
</details></section>
<section id="coding-standards">
<h2>Coding Standards<a class="headerlink" href="#coding-standards" title="Permalink to this heading">¶</a></h2>
<p>Docstring format: <a class="reference external" href="https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings"><code class="docutils literal notranslate"><span class="pre">Google</span></code></a> <br>
Styling conventions: <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/"><code class="docutils literal notranslate"><span class="pre">PEP</span> <span class="pre">8</span></code></a> <br>
Clean code with pre-commit hooks: <a class="reference external" href="https://flake8.pycqa.org/en/latest/"><code class="docutils literal notranslate"><span class="pre">flake8</span></code></a> and
<a class="reference external" href="https://pycqa.github.io/isort/"><code class="docutils literal notranslate"><span class="pre">isort</span></code></a></p>
</section>
<section id="linting">
<h2>Linting<a class="headerlink" href="#linting" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">PreCommit</span></code> will ensure linting, and the doc creation are run on every commit.</p>
<p><strong>Requirement</strong>
<br>
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--no-cache</span> <span class="pre">--upgrade</span> <span class="pre">sphinx</span> <span class="pre">pre-commit</span> <span class="pre">recommonmark</span></code></p>
<p><strong>Usage</strong>
<br>
<code class="docutils literal notranslate"><span class="pre">pre-commit</span> <span class="pre">run</span> <span class="pre">--all-files</span></code></p>
</section>
<section id="feature-s-implementation">
<h2>Feature(s) Implementation<a class="headerlink" href="#feature-s-implementation" title="Permalink to this heading">¶</a></h2>
<p>Please refer <a class="reference external" href="https://github.com/thevickypedia/Jarvis/wiki">wiki</a> for API usage, access controls, env variables,
features’ overview and demo videos.</p>
</section>
<section id="pypi-package">
<h2>Pypi Package<a class="headerlink" href="#pypi-package" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://packaging.python.org/tutorials/packaging-projects/"><img alt="pypi-module" src="https://img.shields.io/badge/Software%20Repository-pypi-1f425f.svg" /></a></p>
<p><a class="reference external" href="https://pypi.org/project/jarvis-ironman/">https://pypi.org/project/jarvis-ironman/</a></p>
</section>
<section id="runbook">
<h2>Runbook<a class="headerlink" href="#runbook" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://www.sphinx-doc.org/en/master/man/sphinx-autogen.html"><img alt="made-with-sphinx-doc" src="https://img.shields.io/badge/Code%20Docs-Sphinx-1f425f.svg" /></a></p>
<p><a class="reference external" href="https://thevickypedia.github.io/Jarvis/">https://thevickypedia.github.io/Jarvis/</a></p>
</section>
<section id="license-copyright">
<h2>License &amp; copyright<a class="headerlink" href="#license-copyright" title="Permalink to this heading">¶</a></h2>
<p>© Vignesh Sivanandha Rao</p>
<p>Licensed under the <a class="reference external" href="https://github.com/thevickypedia/Jarvis/blob/master/LICENSE">MIT License</a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Jarvis</a><ul>
<li><a class="reference internal" href="#prep">Prep</a></li>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#env-variables">ENV Variables</a></li>
<li><a class="reference internal" href="#smart-devices">Smart Devices</a></li>
<li><a class="reference internal" href="#automation-setup-optional">Automation Setup [Optional]</a></li>
<li><a class="reference internal" href="#coding-standards">Coding Standards</a></li>
<li><a class="reference internal" href="#linting">Linting</a></li>
<li><a class="reference internal" href="#feature-s-implementation">Feature(s) Implementation</a></li>
<li><a class="reference internal" href="#pypi-package">Pypi Package</a></li>
<li><a class="reference internal" href="#runbook">Runbook</a></li>
<li><a class="reference internal" href="#license-copyright">License &amp; copyright</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter">Welcome to Jarvis’s documentation!</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/README.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Jarvis’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Jarvis  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Jarvis</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Vignesh Sivanandha Rao.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>